<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

    {{#site.captor.id}}<input type="hidden" class="form-control" name="id" value="{{captor.id}}">{{/site.captor.id}}

    <div class="container">
        {{#site.captor.id}}<h1>Modification captor</h1>{{/site.captor.id}}
        {{^site.captor.id}}<h1>Création captor</h1>{{/site.captor.id}}

            <form action="/sites/{{siteId}}/captors" method="post">
            <div class="form-group">
                <label for="siteName">Site</label>
                <input type="text" readonly class="form-control" id="siteName" value="{{captor.site.name}}">
            </div>
            <div class="form-group">
                <label for="name">Nom</label>
                <input type="text" class="form-control" id="name" name="name" aria-describedby="nameHelp" placeholder="Nom du capteur">
                <small id="nameHelp" class="form-text text-muted">Le nom du capteur doit être unique</small>
            </div>
            <div class="form-group">
                <label for="defaultPowerInWatt">Puissance par défaut</label>
                {{^site.captor.id}}                
                <input type="number" class="form-control" id="defaultPowerInWatt" name="defaultPowerInWatt" required
                    value="{{#captor.defaultPowerInWatt}}{{captor.defaultPowerInWatt}}{{/captor.defaultPowerInWatt}}" 
                    aria-describedby="nameHelp" placeholder="Puissance par défaut (en W)">
                {{/site.captor.id}}

                {{#site.captor.id}}
                <input type="number" class="form-control" id="defaultPowerInWatt" name="defaultPowerInWatt" required
                    value="1000000" 
                    aria-describedby="nameHelp" placeholder="Puissance par défaut (en W)">
                {{/site.captor.id}}

                <small id="nameHelp" class="form-text text-muted">Le capteur renverra toujours la même puissance égale à cette valeur saisie</small>
            </div>
            <a class="btn btn-secondary" href="/sites">Annuler</a>
            <button type="submit" class="btn btn-primary">Enregistrer</button>
            {{#site.captor.id}}<button type="button" class="btn btn-danger" data-toggle="modal"
                data-target="#deleteModal">Supprimer</button>{{/site.captor.id}}
        </form>
    </div>
    {{#site.id}}
    <div class="modal" tabindex="-1" role="dialog" id="deleteModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirmation suppression</h5>

                    <button type="button" class="close" data-dismiss="modal" aria- label="Close">

                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Etes vous sûr de vouloir supprimer le site <b>{{site.name}}</b>
                        ?</p>
                </div>
                <div class="modal-footer">
                    <form action="/sites/{{site.id}}/delete" method="post">

                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-danger">Supprimer</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    {{/site.id}}

</body>

</html>